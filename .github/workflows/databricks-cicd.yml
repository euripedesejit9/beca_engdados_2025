name: Databricks CICD
on:
  push:
    branches:
      - main

jobs:
  copy-files:
    runs-on: ubuntu-latest 

    steps:
    - name: Checkout
      uses: actions/checkout@v2

    - name: install-databricks-cli
      uses: microsoft/install-databricks-cli@v1.0.0

    - name: databricks-import-directory
      uses: microsoft/databricks-import-directory@v1.0.0
      with:
        databricks-host: ${{ secrets.DATABRICKS_HOST }}
        databricks-token: ${{ secrets.DATABRICKS_TOKEN }}
        local-path: "./projeto"
        remote-path: "/Workspace/Shared"
